<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Docker</title>
<meta content="noindex" name="robots" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/statics/css/style.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to an9wer's blog" href="/blog.rss" />
<link rel="icon" href="/statics/images/icon.jpg" type="image/jpeg" size="32x32" />
</head>

<body>
  <div id="main">

    <div id="header">
      <div id="headerLeft">
        <div id="name"><a href="/blog.html">an9wer's blog</a></div>
        <div id="signature">Just stick to it :)</div>
      </div> <!-- headerLeft -->
      <div id="headerRight">
        <div id="avatar"><img src="/statics/images/avatar.jpg"></div>
      </div> <!-- headerRight -->
    </div> <!-- header -->

    <div id="navbar">
      <a id="blog" href="/blog.html">Blog</a>
      <a id="moments" href="/moments.html">Moments</a>
      <a id="notes" class="current" href="/notes.html">Notes</a>
      <a id="tools" href="/tools.html">Tools</a>
    </div> <!-- navbar -->

<h1 class="title">Docker</h1>


    <div id="content">
<pre class="literal-block"># docker port &lt;container&gt;</pre>
<pre class="literal-block"># docker inspect &lt;container&gt;</pre>
<pre class="literal-block"># docker network ls</pre>
<pre class="literal-block"># docker network inspect &lt;network&gt;</pre>
<div class="section" id="build">
<h2>Build</h2>
<p>Build from &lt;path&gt;/Dockerfile:</p>
<pre class="literal-block"># docker build --tag &lt;image&gt; &lt;path&gt;</pre>
</div>
<div class="section" id="run">
<h2>Run</h2>
<p>Run with arguments:</p>
<pre class="literal-block"># docker run &lt;image&gt; &lt;arg&gt;...</pre>
<p>Run interactively with shell, if no ENTRYPINT set in Dockerfile:</p>
<pre class="literal-block"># docker run -it --name &lt;container&gt; &lt;image&gt; /bin/bash</pre>
<p>Run interactively with shell, but ENTRYPINT set in Dockerfile:</p>
<pre class="literal-block"># docker run -it --name &lt;container&gt; --entrypoint /bin/bash &lt;image&gt;

or

# docker run -it --name &lt;container&gt; --entrypoint &quot;&quot; &lt;image&gt; /bin/bash</pre>
<p>Remove container after it exits:</p>
<pre class="literal-block"># docker run -rm &lt;image&gt;</pre>
</div>
<div class="section" id="volume">
<h2>Volume</h2>
<pre class="literal-block"># docker volume ls</pre>
<pre class="literal-block"># docker volume inspect &lt;volume&gt;</pre>
<pre class="literal-block"># docker volume rm &lt;volume&gt;</pre>
</div>
<div class="section" id="compose">
<h2>compose</h2>
<div class="section" id="installation">
<h3>Installation</h3>
</div>
<div class="section" id="usage">
<h3>Usage</h3>
<pre class="literal-block"># docker-compose up</pre>
<pre class="literal-block"># docker-compose start &lt;service&gt;</pre>
<pre class="literal-block"># docker-compose stop &lt;service&gt;</pre>
<pre class="literal-block"># docker-compose rm &lt;service&gt;</pre>
<pre class="literal-block"># docker-compose run &lt;service&gt; [&lt;command&gt; ...]</pre>
<p>Stop all:</p>
<pre class="literal-block"># docker-compose stop</pre>
<p>remove all:</p>
<pre class="literal-block"># docker-compose rm</pre>
<p>Stop and remove container:</p>
<pre class="literal-block"># docker-compose down</pre>
<p>Stop and remove container, volumes:</p>
<pre class="literal-block"># docker-compose down --volume</pre>
</div>
</div>
<div class="section" id="dockerfile">
<h2>Dockerfile</h2>
<div class="section" id="entrypoint">
<h3>ENTRYPOINT</h3>
<p>Exec form:</p>
<pre class="literal-block">ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]</pre>
<p>Shell form:</p>
<pre class="literal-block">ENTRYPOINT command param1 param2</pre>
<p>An ENTRYPOINT allows you to configure a container that will run as an
executable.</p>
<p>Command line arguments to <span class="docutils literal">docker run &lt;image&gt;</span> will be appended after all
elements in an exec form ENTRYPOINT, and will override all elements specified
using CMD. i.e., <span class="docutils literal">docker run &lt;image&gt; <span class="pre">-d</span></span> will pass the -d argument to the
entry point.</p>
<p>You can override the ENTRYPOINT instruction using the <span class="docutils literal">docker run <span class="pre">--entrypoint</span></span> flag.</p>
</div>
<div class="section" id="cmd">
<h3>CMD</h3>
<p>As default parameters to ENTRYPOINT:</p>
<pre class="literal-block">CMD [&quot;param1&quot;,&quot;param2&quot;]</pre>
<p>Exec form:</p>
<pre class="literal-block">CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;]</pre>
<p>Shell form:</p>
<pre class="literal-block">CMD command param1 param2</pre>
<p>The main purpose of a CMD is to provide defaults for an executing container.
These defaults can include an executable, or they can omit the executable, in
which case you must specify an ENTRYPOINT instruction as well.</p>
<p>If you list more than one CMD then only the last CMD will take effect.</p>
</div>
</div>
    </div> <!-- content -->

    <div id="footer">
      <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">CC BY-NC-SA</a> 2018-2021 an9wer | powered by <a href="http://docutils.sourceforge.net/" target="_blank">docutils</a>
    </div> <!-- footer -->

  </div> <!-- main -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141786049-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-141786049-1');
  </script>

</body>
</html>
