<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Systemd journal</title>
<meta content="noindex" name="robots" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/statics/css/style.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Subscribe to an9wer's blog" href="/blog.rss" />
<link rel="icon" href="/statics/images/icon.jpg" type="image/jpeg" size="32x32" />
</head>

<body>
  <div id="main">

    <div id="header">
      <div id="headerLeft">
        <div id="name"><a href="/blog.html">an9wer's blog</a></div>
        <div id="signature">Just stick to it :)</div>
      </div> <!-- headerLeft -->
      <div id="headerRight">
        <div id="avatar"><img src="/statics/images/avatar.jpg"></div>
      </div> <!-- headerRight -->
    </div> <!-- header -->

    <div id="navbar">
      <a id="blog" href="/blog.html">Blog</a>
      <a id="moments" href="/moments.html">Moments</a>
      <a id="notes" class="current" href="/notes.html">Notes</a>
      <a id="tools" href="/tools.html">Tools</a>
    </div> <!-- navbar -->

<h1 class="title">Systemd journal</h1>


    <div id="content">
<p>The journal service stores log data either persistently below
<em>/var/log/journal</em> or in a volatile way below <em>/run/log/journal/</em> (in the
latter case it is lost at reboot). By default, log data is stored persistently
if /var/log/journal/ exists during boot, with an implicit fallback to volatile
storage otherwise.  Use <span class="docutils literal">Storage=</span> in journald.conf to configure where log
data is placed, independently of the existence of <em>/var/log/journal/</em>.</p>
<p>On systems where /var/log/journal/ does not exist yet but where persistent
logging is desired (and the default journald.conf is used), it is sufficient to
create the directory, and ensure it has the correct access modes and ownership:</p>
<pre class="literal-block"># mkdir -p /var/log/journal
# systemd-tmpfiles --create --prefix /var/log/journal
# systemctl restart systemd-journald</pre>
<div class="section" id="references">
<h2>References</h2>
<p><span class="docutils literal">man <span class="pre">systemd-journald</span></span></p>
<p><span class="docutils literal">man journald.conf</span></p>
</div>
    </div> <!-- content -->

    <div id="footer">
      <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">CC BY-NC-SA</a> 2018-2021 an9wer | powered by <a href="http://docutils.sourceforge.net/" target="_blank">docutils</a>
    </div> <!-- footer -->

  </div> <!-- main -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141786049-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-141786049-1');
  </script>

</body>
</html>
